"""SLURM support, from srun 20.02.1"""

from e4s_cl.cf.launchers import Parser

SCRIPT_NAMES = ['srun']

ARGUMENTS = {
    "-A": 1,
    "--account": 1,
    "--acctg-freq": 1,
    "-b": 1,
    "-B": 1,
    "--bb": 1,
    "--bbf": 1,
    "--bcast": 1,
    "--bcast-exclude": 1,
    "--begin": 1,
    "-c": 1,
    "-C": 1,
    "--chdir": 1,
    "--cluster-constraint": 1,
    "--clusters": 1,
    "--comment": 1,
    "--compress": 0,
    "--constraint": 1,
    "--container": 0,
    "--contiguous": 0,
    "--core-spec": 1,
    "--cores-per-socket": 1,
    "--cpu-bind": 1,
    "--cpu-freq": 1,
    "--cpus-per-gpu": 1,
    "--cpus-per-task": 1,
    "-d": 1,
    "-D": 1,
    "--deadline": 1,
    "--delay-boot": 1,
    "--dependency": 1,
    "--disable-status": 0,
    "--distribution": 1,
    "-E": 0,
    "-e": 1,
    "--epilog": 1,
    "--error": 1,
    "--exact": 0,
    "--exclude": 1,
    "--exclusive": 0,
    "--export": 1,
    "--extra-node-info": 1,
    "-G": 1,
    "--gpu-bind": 1,
    "--gpu-freq": 1,
    "--gpus": 1,
    "--gpus-per-node": 1,
    "--gpus-per-socket": 1,
    "--gpus-per-task": 1,
    "--gres": 1,
    "--gres-flags": 1,
    "-h": 0,
    "-H": 0,
    "--help": 0,
    "--het-group": 1,
    "--hold": 0,
    "-I": 0,
    "-i": 1,
    "--image": 1,
    "--imediate": 0,
    "--immediate": 0,
    "--input": 1,
    "-J": 1,
    "--jobid": 1,
    "--job-name": 1,
    "-k": 0,
    "-K": 0,
    "--kill-on-bad-exit": 0,
    "-l": 0,
    "-L": 1,
    "--label": 0,
    "--licenses": 1,
    "-m": 1,
    "-M": 1,
    "--mail-type": 1,
    "--mail-user": 1,
    "--mcs-label": 1,
    "--mem": 1,
    "--mem-bind": 1,
    "--mem-per-cpu": 1,
    "--mem-per-gpu": 1,
    "--mincpus": 1,
    "--module": 1,
    "--mpi": 1,
    "--multi-prog": 0,
    "-n": 1,
    "-N": 1,
    "--nice": 0,
    "--no-allocate": 0,
    "--nodelist": 1,
    "--nodes": 1,
    "--no-kill": 0,
    "--ntasks": 1,
    "--ntasks-per-core": 1,
    "--ntasks-per-node": 1,
    "--ntasks-per-socket": 1,
    "-O": 0,
    "-o": 1,
    "--output": 1,
    "--overcommit": 0,
    "--overlap": 0,
    "--oversubscribe": 0,
    "-p": 1,
    "--partition": 1,
    "--power": 1,
    "--preserve-env": 0,
    "--priority": 1,
    "--profile": 1,
    "--prolog": 1,
    "--propagate": 0,
    "--pty": 0,
    "-Q": 0,
    "-q": 1,
    "--qos": 1,
    "--quiet": 0,
    "--quit-on-interrupt": 0,
    "-r": 1,
    "--reboot": 0,
    "--relative": 1,
    "--reservation": 1,
    "--resv-ports": 0,
    "-s": 0,
    "-S": 1,
    "--send-libs": 0,
    "--signal": 1,
    "--slurmd-debug": 1,
    "--sockets-per-node": 1,
    "--spread-job": 0,
    "--switches": 1,
    "-t": 1,
    "-T": 1,
    "--task-epilog": 1,
    "--task-prolog": 1,
    "--threads": 1,
    "--thread-spec": 1,
    "--threads-per-core": 1,
    "--time": 1,
    "--time-min": 1,
    "--tmp": 1,
    "-u": 0,
    "--unbuffered": 0,
    "--usage": 0,
    "--use-min-nodes": 0,
    "-v": 0,
    "-V": 0,
    "--verbose": 0,
    "--version": 0,
    "--volume": 1,
    "-w": 1,
    "-W": 1,
    "--wait": 1,
    "--wckey": 1,
    "-X": 0,
    "-x": 1,
    "-Z": 0,
}

META = dict(reserved_directories=['/var/spool/slurm', '/var/spool/slurmd'])

PARSER = Parser(ARGUMENTS)
